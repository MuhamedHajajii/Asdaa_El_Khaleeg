<p-card header="أحدث رسائل اتصل بنا" class="contact-card">
  <p-table [value]="emails" [paginator]="true" [rows]="5" [responsive]="true">
    <ng-template pTemplate="header">
      <tr>
        <th>الاسم</th>
        <th>العنوان</th>
        <th>التاريخ</th>
        <th>إجراء</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-email>
      <tr>
        <td>{{ email.name }}</td>
        <td>{{ email.subject }}</td>
        <td>{{ email.date | hijriDate }}</td>
        <td>
          <button
            pButton
            label="عرض التفاصيل"
            icon="pi pi-search"
            (click)="showDetails(email)"
          ></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</p-card>

<!-- Modal for Email Details -->
<p-dialog
  [(visible)]="emailDialogVisible"
  [modal]="true"
  [style]="{ width: '50vw' }"
  header="تفاصيل الرسالة"
  [closable]="true"
  [responsive]="true"
  [closeOnEscape]="true"
>
  <div *ngIf="selectedEmail">
    <h3>الاسم: {{ selectedEmail.name }}</h3>
    <h5>البريد الإلكتروني: {{ selectedEmail.email }}</h5>
    <p><strong>العنوان:</strong> {{ selectedEmail.subject }}</p>
    <p><strong>التاريخ:</strong> {{ selectedEmail.date | hijriDate }}</p>
    <p><strong>المحتوى:</strong></p>
    <p>{{ selectedEmail.message }}</p>
    <p-footer>
      <button
        pButton
        label="إغلاق"
        icon="pi pi-times"
        (click)="emailDialogVisible = false"
      ></button>
    </p-footer>
  </div>
</p-dialog>
